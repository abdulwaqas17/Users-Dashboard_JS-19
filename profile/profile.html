<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="profile.css">
</head>
<body>
    

    <div class="profile flex">

        
        <!-- dashboard left is here  -->
        <div class="dashboardLeft">

            <!-- company logo is here  -->
            <div class="logo">

                <h2>Tech.co</h2>

            </div>

            <!-- links is here  -->
            <div class="links">

             
                <ul>
                    
                    <li onclick="showHome()"><a href="javascript:void(0)">Home</a></li>

                    <li onclick="showDashboard()"><a href="javascript:void(0)" >Dashboard</a></li>

                    <li  onclick="showProfile()"><a href="javascript:void(0)">Profile</a></li>

                    <li onclick="showServices()"><a href="#">Services</a></li>

                    <li onclick="showAbout()"><a href="#">About Us</a></li>

                    <li onclick="showContact()"><a href="#">Contact Us</a></li>


                </ul>

            </div>

        </div>


        <!-- dashboardRight is here  -->
        <div class="dashboardRight">

            <div class="dashboardRightContainer">

                <!-- dashboardRightHeader is here  -->
                <div class="dashboardRightHeader">

                    
                    <div class="dashboardRightHeaderNav flex">

                        <!-- dashboardRightHeaderHeading is here  -->
                        <h2 class="dashboardRightHeaderHeading">Profile</h2>
    
                        <!-- dashboardRightHeaderRightSide is here  -->
                         <div class="dashboardRightHeaderRightSide flex">
<!--     
                            <div class="dashboardRightHeaderSearch flex">
    
                                <span>@</span>
                                <input type="text" placeholder="Search">
    
                            </div> -->
    
                            <button class="dashboardRightHeaderAddBtn" id="logoutBtn" onclick="logOut()">
    
                                Log Out
    
                            </button>
    
                            <button class="dashboardRightHeaderInOf flex">
    
                                <span> • • • </span>
    
                            </button>
    
    
    
                         </div>
                    </div>
    
                        <!-- dashboardRightHeaderUsers is here  -->
                    <!-- <div class="dashboardRightHeaderUsers">
    
                            <ul class="flex">
    
                                <li><a href="#">All Users 235</a></li>
    
                                <li><a href="#">Admins 35</a></li>
    
                                <li><a href="#">Managers 50</a></li>
    
                                <li><a href="#">Employes 150</a></li>
    
                            </ul>
                    </div> -->


                </div>


                <!-- profileSection is here  -->
                <div class="profileSection">


                    <!-- profileTop is here  -->
                    <div class="profileTop flex">

                        <!-- profilePhoto is here  -->
                        <div class="profilePhoto"></div>

                        <!-- profileName is here  -->
                        <div class="profileName">

                            <h2 id="h2UserName">Muhammad Waqas</h2>
                            <p id="pUserEmail">waqas123@gmail.com</p>
                            <p id="pUserRole">Admin</p>

                            
                        <button class="editButton">
                            <span>#</span> Edit
                        </button>

                        </div>

                    </div>

                    <!-- profileMid is here  -->
                    <div class="profileMid">

                        <h2>Personal Information</h2>
                        <button class="editButton">
                            <span>#</span> Edit
                        </button>

                        <table id="personalInformation">

                            <tr>
                                
                                <td>User Name</td>
                                <td>Muhammad Waqas</td>

                            </tr>

                            <tr>

                                <td>User Email</td>
                                <td>Waqas123@gmail.com</td>

                            </tr>

                            <tr>

                                <td>User Birth Day</td>
                                <td>11 July 1996</td>

                            </tr>

                            <tr>

                                <td>User Phone No.</td>
                                <td>+920132466482</td>

                            </tr>

                        </table>

                    </div>

                    <!-- profileBottom is here  -->
                    <div class="profileBottom">

                        <h2>Address </h2>
                        <button class="editButton">
                            <span>#</span> Edit
                        </button>

                        <table id="userAddress">

                            <tr>

                                <td>Country</td>
                                <td>Pakistan</td>
                                
                            </tr>

                            <tr>

                                <td>City</td>
                                <td>Karachi</td>

                            </tr>

                        </table>

                    </div>

                </div>

            </div>

        </div>

    </div>


    <script src="./../app.js"></script>

    <script>

        // get login email of current user from local Storage  
        var currentUserEmail = window.localStorage.getItem('lastLoginUserEmail'); 
        console.log(currentUserEmail);

        // get current all users from local Storage 
        var currentAllUsers = JSON.parse(window.localStorage.getItem('Users'));
        console.log(currentAllUsers);

        // get the obj of current user through its UNIQUE email 
        for (var i = 0; i < currentAllUsers.length; i++ ) {

            if (currentUserEmail == currentAllUsers[i].userEmail) {

                // current user data store in this variable 
                var currentUserData = currentAllUsers[i];
                var currentUserIndex = i; 
                console.log(currentUserData);
                break;

            }
        }

        console.log(currentUserData);
        console.log(currentUserIndex);

        var h2UserName = document.getElementById('h2UserName');
        h2UserName.innerHTML = currentUserData.userName;

        var pUserEmail = document.getElementById('pUserEmail');
        pUserEmail.innerHTML = currentUserData.userEmail;

        var pUserRole = document.getElementById('pUserRole');
        pUserRole.innerHTML = currentUserData.userRole;

        var personalInformation = document.getElementById('personalInformation');
        personalInformation.innerHTML = `


<tr>
    
    <td>User Name</td>
    <td>${currentUserData.userName}</td>

</tr>

<tr>

    <td>User Email</td>
    <td>${currentUserData.userEmail}</td>

</tr>

<tr>

    <td>User Birth Day</td>
    <td>${currentUserData.userBirthDay}</td>

</tr>

<tr>

    <td>User Phone No.</td>
    <td>${currentUserData.userPhone}</td>

</tr>
        ` 

    var userAddress = document.getElementById('userAddress');
    userAddress.innerHTML = `

<tr>

<td>Country</td>
<td>Pakistan</td>

</tr>

<tr>

<td>City</td>
<td>${currentUserData.userCity}</td>

</tr>
    
    `    
function logOut() {

    currentAllUsers.splice(currentUserIndex,1);
    window.localStorage.setItem('Users', JSON.stringify(currentAllUsers));
    console.log(currentAllUsers);
    window.location.href = './../index.html';

}    
    </script>
</body>
<!-- <a href="./../index.html"></a> -->
</html>